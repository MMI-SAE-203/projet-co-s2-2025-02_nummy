---
import Layout from "../layouts/Layout.astro";
import Button from "../components/Button.astro";

import ImagePartenaires from "../assets/img/cardimg/partenaires1.webp";
import ImagePartenaires2 from "../assets/img/cardimg/partenaires2.webp";
import ImagePartenaires3 from "../assets/img/cardimg/partenaires3.webp";
import { Picture } from "astro:assets";
---

<Layout classBody="colorPage colorNav">
  <body>
    <div>
      <div class="px-8">
        <!-- texte principal -->
        <div class="pt-32">
          <h1 class="tracking-wider">
            Rejoignez cette grande communauté et rendez votre entreprise <span
              class="text-[var(--color-orange)]"
            >
              visible !</span
            >
          </h1>
        </div>

        <div>
          <hr class="h-[10px] w-60 bg-[var(--color-orange)] my-5" />
          <p class="p-body3">
            Rejoignez notre projet et donnez de la visibilité à votre entreprise
            ! Ensemble, mettons en avant vos produits et savoir-faire auprès
            d'un public plus large ! Profitez d'une plateforme dédiée pour
            toucher de nouveaux clients et partager votre passion.
          </p>
          <div class="flex justify-center items-center py-12">
            <Button variant="orange2">NOUS REJOINDRE !</Button>
          </div>
        </div>

        <hr class="relative bg-gray-600" />

        <div
          class="flex flex-col items-center justify-center text-center px-15 py-10"
        >
          <h2 class="h3-header">
            "Quels sont les <span class="text-[var(--color-orange)]"
              >avantages</span
            > de devenir partenaire ?"
          </h2>
        </div>

        <!-- card information -->
        <div class="*:my-10 gap-10">
          <div
            class="max-w-sm border border-gray-200 shadow-sm bg-[var(--color-argent)]"
          >
            <a href="#">
              <Picture
                src={ImagePartenaires2}
                alt="image"
                loading="lazy"
                class=""
                width={800}
                height={700}
              />
            </a>
            <div class="p-5">
              <hr
                class="h-[8px] w-50 flex justify-center items-center text-center bg-[var(--color-orange)] ml-15"
              />
              <a href="#">
                <h3
                  class="px-6 font-bold flex justify-center text-center leading-6 text-xl mb-2 pt-2"
                >
                  Une visibilité accrue de vos produits ou services !
                </h3>
              </a>
              <p class="p-body3 mb-3 font-normal text-black">
                Restez au courant des nouvelles recettes de saison créées par
                notre communauté ! Découvrez des plats délicieux du monde entier
                – Asie, Europe et bien plus encore. Ne manquez pas ces nouvelles
                expériences gustatives et laissez-vous surprendre par de
                nouvelles saveurs !.
              </p>
            </div>
          </div>

          <div
            class="max-w-sm border border-gray-200 shadow-sm bg-[var(--color-argent)]"
          >
            <a href="#">
              <Picture
                src={ImagePartenaires}
                alt="image"
                loading="lazy"
                class=""
                width={800}
                height={700}
              />
            </a>
            <div class="p-5">
              <hr
                class="h-[8px] w-50 flex justify-center items-center text-center bg-[var(--color-orange)] ml-15"
              />
              <a href="#">
                <h3
                  class="px-6 font-bold flex justify-center text-center leading-6 text-xl mb-2 pt-2"
                >
                  Une visibilité accrue de vos produits ou services !
                </h3>
              </a>
              <p class="p-body3 mb-3 font-normal text-black">
                Restez au courant des nouvelles recettes de saison créées par
                notre communauté ! Découvrez des plats délicieux du monde entier
                – Asie, Europe et bien plus encore. Ne manquez pas ces nouvelles
                expériences gustatives et laissez-vous surprendre par de
                nouvelles saveurs !.
              </p>
            </div>
          </div>

          <div
            class="max-w-sm border border-gray-200 shadow-sm bg-[var(--color-argent)]"
          >
            <a href="#">
              <Picture
                src={ImagePartenaires3}
                alt="image"
                loading="lazy"
                class=""
                width={800}
                height={700}
              />
            </a>
            <div class="p-5">
              <hr
                class="h-[8px] w-50 flex justify-center items-center text-center bg-[var(--color-orange)] ml-15"
              />
              <a href="#">
                <h3
                  class="px-6 font-bold flex justify-center text-center leading-6 text-xl mb-2 pt-2"
                >
                  Une visibilité accrue de vos produits ou services !
                </h3>
              </a>
              <p class="p-body3 mb-3 font-normal text-black">
                Restez au courant des nouvelles recettes de saison créées par
                notre communauté ! Découvrez des plats délicieux du monde entier
                – Asie, Europe et bien plus encore. Ne manquez pas ces nouvelles
                expériences gustatives et laissez-vous surprendre par de
                nouvelles saveurs !.
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- formulaire -->

    <div
      class="bg-[var(--color-orange)] text-black p-8 py-10 rounded-2xl max-w-md mx-auto"
    >
      <h2 class="h2-header mb-4 font-normal pr-10">
        "Devenez membre de cette grande famille !"
      </h2>

      <p class="p-body3 mb-6 text-sm">
        Envoyez-nous vos coordonnées professionnelles afin que nous puissions
        vous contacter dans les plus brefs délais.
      </p>

      <form
        action="https://formspree.io/f/xnndjkql"
        method="POST"
        class="space-y-4"
      >
        <div>
          <label for="nom" class="block text-[12px] font-bold uppercase mb-1"
            >Nom</label
          >
          <input
            type="text"
            id="nom"
            name="nom"
            placeholder="Indiquez votre nom de famille"
            required
            class="w-full p-small px-4 py-3 rounded-md bg-white border-0 focus:ring-2 focus:ring-[#FF7D00] placeholder-gray-400"
          />
        </div>

        <div>
          <label for="prenom" class="block text-[12px] font-bold uppercase mb-1"
            >Prénom</label
          >
          <input
            type="text"
            id="prenom"
            name="prenom"
            placeholder="Indiquez votre prénom"
            required
            class="w-full p-small px-4 py-3 rounded-md bg-white border-0 focus:ring-2 focus:ring-[#FF7D00] placeholder-gray-400"
          />
        </div>

        <div class="grid grid-cols-2 gap-4">
          <div>
            <label
              for="type_entreprise"
              class="block text-[12px] font-bold uppercase mb-1"
              >Type d'entreprise</label
            >
            <input
              type="text"
              id="type_entreprise"
              name="type_entreprise"
              placeholder="Restaurant"
              required
              class="w-full p-small px-4 py-3 rounded-md bg-white border-0 focus:ring-2 focus:ring-[#FF7D00] placeholder-gray-400"
            />
          </div>

          <div>
            <label for="pays" class="block text-[12px] font-bold uppercase mb-1"
              >Continent/Pays</label
            >
            <input
              type="text"
              id="pays"
              name="pays"
              placeholder="Indiquez le pays"
              required
              class="w-full p-small px-4 py-3 rounded-md bg-white border-0 focus:ring-2 focus:ring-[#FF7D00] placeholder-gray-400"
            />
          </div>
        </div>

        <div>
          <label
            for="telephone"
            class="block text-[12px] font-bold uppercase mb-1">Téléphone</label
          >
          <input
            type="tel"
            id="telephone"
            name="telephone"
            placeholder="(+33) xx xx xx xx"
            required
            class="w-full p-small px-4 py-3 rounded-md bg-white border-0 focus:ring-2 focus:ring-[#FF7D00] placeholder-gray-400"
          />
        </div>

        <div>
          <label for="email" class="block text-[12px] font-bold uppercase mb-1"
            >E-mail</label
          >
          <input
            type="email"
            id="email"
            name="email"
            placeholder="E-mail: exemple@gmail.com"
            required
            class="w-full p-small px-4 py-3 rounded-md bg-white border-0 focus:ring-2 focus:ring-[#FF7D00] placeholder-gray-400"
          />
        </div>

        <div class="flex items-start mt-6">
          <div class="flex items-center h-5">
            <input
              id="terms"
              name="terms"
              type="checkbox"
              required
              class="w-4 h-4 border-gray-300 rounded focus:ring-[#FF7D00]"
            />
          </div>
          <div class="ml-3 text-xs">
            <label for="terms" class="font-medium text-black">
              En cochant cette case, vous acceptez les termes et conditions pour
              devenir membre de la société Ñummy, pour en savoir plus sur nos
              politiques... <a href="#" class="text-blue-800 underline"
                >En savoir plus</a
              >
            </label>
          </div>
        </div>

        <input
          type="hidden"
          name="_subject"
          value="Nouvelle demande de partenariat Nummy"
        />

        <div class="flex justify-center mt-8">
          <button
            type="submit"
            class="px-10 py-3 bg-white text-black font-bold rounded-full hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-[#FF7D00] uppercase"
          >
            Envoyer
          </button>
        </div>
      </form>
    </div>
  </body>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const form = document.querySelector("form");

      if (form) {
        // Verificación explícita
        form.addEventListener("submit", (e) => {
          e.preventDefault();
          const btnSubmit = form.querySelector('button[type="submit"]');
          btnSubmit.disabled = true;
          btnSubmit.innerHTML = "Envoi en cours...";

          const successMessage = document.createElement("div");
          successMessage.className = "bg-white rounded-lg p-4 mt-4 text-center";
          successMessage.innerHTML =
            '<p class="text-green-600 font-bold">Merci ! Votre formulaire a été envoyé avec succès.</p>';
          form.appendChild(successMessage);

          setTimeout(() => {
            form.submit();
          }, 1500);
        });
      }
    });
  </script>
</Layout>
